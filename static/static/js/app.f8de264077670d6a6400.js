webpackJsonp([1],{"0G2Q":function(t,e){},"6IkI":function(t,e){},EWLV:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App"},a,!1,function(t){s("Shb0")},null,null).exports,i=s("/ocq"),n={data:function(){return{logged_in:null==document.cookie.match(/^(.*;)?\s*ses_id\s*=\s*[^;]+(.*)?$/)}},methods:{switch:function(t){return t==this.logged_in?"":"hidden"},logout:function(){var t=this;axios.get("/api/auth/logout").then(function(e){t.$router.push("/")})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full border-b border-solid border-0 border-gray-200",attrs:{id:"nav"}},[s("ul",{staticClass:"flex flex-1 list-none m-0 pt-4 pb-4"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("li",[s("div",{class:this.switch(!0)},[s("a",{attrs:{href:"/auth"}},[t._v("Login or Register")])]),t._v(" "),s("div",{class:this.switch(!1)},[s("a",{attrs:{href:"/account"}},[t._v("Account")]),t._v(" "),s("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.logout()}}},[t._v("\n          logout\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"/products"}},[e("li",[this._v("PRODUCTS")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"/categories"}},[e("li",[this._v("CATEGORIES")])])}]};var l=s("VU/8")(n,c,!1,function(t){s("6IkI")},null,null).exports,u={name:"ProductImage",props:["product","image_id"],data:function(){return{image_data:""}},mounted:function(){var t=this;axios.get("/api/products/image?id="+this.image_id).then(function(e){t.image_data=e.data})},methods:{openProduct:function(){this.$router.push("/product/"+this.product.UUID)}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-1 h-full"},[s("div",{staticClass:"w-1/2 h-full overflow-hidden rounded-tl rounded-bl cursor-pointer",on:{click:t.openProduct}},[s("div",{staticClass:"w-full h-full flex flex-1 justify-center"},[s("img",{staticClass:"h-full mx-auto flex-none",attrs:{src:this.image_data}})])]),t._v(" "),s("div",{staticClass:"p-2"},[s("span",{staticClass:"cursor-pointer",on:{click:t.openProduct}},[t._v(t._s(t.product.Name))]),t._v(" "),s("div",{staticClass:"text-gray-400"},[t._v(t._s(t.product.Description))])])])},staticRenderFns:[]},p=s("VU/8")(u,d,!1,null,null,null).exports,m=s("woOf"),v=s.n(m),h=s("NYxO"),f=s("424j"),_=s("lbHh"),g=s.n(_);var b={namespaced:!0,state:{products:[],total_value:0},getters:{},actions:{},mutations:{Push(t,e){console.log(e),t.total_value+=e.Price,t.products.push(e)},Remove(t,e){for(let s=0;s<t.products.length;s++)if(t.products[s].UUID==e){let e=t.products.splice(s,1)[0];return console.log(e),void(t.total_value-=e.Price)}}},plugins:[Object(f.a)({storage:{getItem:t=>g.a.get(t),setItem:(t,e)=>g.a.set(t,e,{expires:1/48*2}),removeItem:t=>g.a.remove(t)}})]};r.a.use(h.a);var w=new h.a.Store(b),x={name:"Cart",data:function(){return{open:!1,products:w.state.products,processedProducts:[],store:w}},mounted:function(){this.ProcessProducts()},methods:{OpenProduct:function(t){this.$router.push("/product/"+t.srcElement.id)},RemoveProduct:function(t){w.commit("Remove",t),this.value=w.state.total_value,this.products=w.state.products},Toggle:function(){this.open=!this.open},IncreaseQuantity:function(t){for(var e=0;e<w.state.products.length;e++)if(w.state.products[e].UUID==t)return void w.commit("Push",v()({},w.state.products[e]))},ProcessProducts:function(){this.processedProducts=[];for(var t=0;t<this.products.length;t++){for(var e=!1,s=0;s<this.processedProducts.length;s++)if(this.products[t].UUID==this.processedProducts[s].UUID){e=!0,void 0==this.processedProducts[s].Quantity&&(this.processedProducts[s].Quantity=1),this.processedProducts[s].Quantity+=1;break}e||this.processedProducts.push(v()({},this.products[t]))}}},watch:{products:function(){this.ProcessProducts()}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"absolute right-0 top-0"+(t.open?" w-1/4":"")},[s("div",{staticClass:"cursor-pointer bg-black text-white p-4",domProps:{innerHTML:t._s(t.open?">":"<")},on:{click:function(e){return t.Toggle()}}}),t._v(" "),s("div",{class:"w-full h-full bg-black text-white p-4 pr-10 "+(t.open?"":"hidden")},[s("div",t._l(t.processedProducts,function(e,r){return s("div",{key:r,staticClass:"flex flex-1 w-full"},[s("div",{staticClass:"w-3/5 cursor-pointer",on:{click:function(s){return t.OpenProduct(e)}}},[t._v(t._s(e.Name)+" x"+t._s(e.Quantity?e.Quantity:1))]),s("div",{staticClass:"w-1/4"},[t._v("€ "+t._s(e.Price.toFixed(2)))]),s("div",{staticClass:"cursor-pointer",on:{click:function(s){return t.IncreaseQuantity(e.UUID)}}},[t._v("+")]),t._v(" "),s("div",{staticClass:"cursor-pointer",on:{click:function(s){return t.RemoveProduct(e.UUID)}}},[t._v("-")])])}),0),t._v(" "),s("div",{staticClass:"border-0 border-t border-solid border-white flex flex-1 w-full mt-4 pt-2"},[s("div",{staticClass:"w-3/4"},[t._v("Total:")]),s("div",{staticClass:"w-1/4"},[t._v("€ "+t._s(t.store.state.total_value.toFixed(2)))])])])])},staticRenderFns:[]},P=s("VU/8")(x,C,!1,null,null,null).exports,y={name:"Index",mounted:function(){var t=this;axios.get("/api/products/all").then(function(e){t.products=e.data})},data:function(){return{products:[]}},methods:{},components:{navbar:l,"product-tile":p,cart:P}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full h-full"},[e("cart"),this._v(" "),e("navbar"),this._v(" "),e("div",{staticClass:"flex flex-1 flex-wrap"},this._l(this.products,function(t,s){return e("div",{key:s,staticClass:"product my-2 h-64 border rounded border-solid border-0 hover:border-gray-400 border-gray-200"},[e("product-tile",{attrs:{product:t,image_id:JSON.parse(t.Images)[0]}})],1)}),0)],1)},staticRenderFns:[]};var k=s("VU/8")(y,I,!1,function(t){s("TcGi")},null,null).exports,$={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bg-black text-white cursor-pointer p-4",on:{click:this.openCategory}},[this._v("\n    "+this._s(this.category.Name)+"\n")])},staticRenderFns:[]},E={name:"Index",data:function(){return{categories:[]}},components:{navbar:l,category:s("VU/8")({name:"CategoryTile",props:["category"],methods:{openCategory:function(){this.$router.push("/category/"+this.category.Name)}}},$,!1,null,null,null).exports,cart:P},mounted:function(){var t=this;axios.get("/api/categories/all").then(function(e){t.categories=e.data})}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full h-full"},[e("cart"),this._v(" "),e("navbar"),this._v(" "),this._l(this.categories,function(t,s){return e("div",{key:s,staticClass:"category mt-2"},[e("category",{attrs:{category:t}})],1)})],2)},staticRenderFns:[]};var N=s("VU/8")(E,U,!1,function(t){s("0G2Q")},null,null).exports,R={name:"CategoryPage",mounted:function(){var t=this;axios.get("/api/categories/specific?name="+this.$route.params.name).then(function(e){t.products=e.data.Products})},data:function(){return{products:[]}},methods:{},components:{navbar:l,"product-tile":p,cart:P}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full h-full"},[e("cart"),this._v(" "),e("navbar"),this._v(" "),e("div",{staticClass:"flex flex-1 flex-wrap"},this._l(this.products,function(t,s){return e("div",{key:s,staticClass:"product my-2 h-64 border rounded border-solid border-0 hover:border-gray-400 border-gray-200"},[e("product-tile",{attrs:{product:t,image_id:JSON.parse(t.Images)[0]}})],1)}),0)],1)},staticRenderFns:[]};var F=s("VU/8")(R,A,!1,function(t){s("QycH")},null,null).exports,V={name:"ProductImage",props:["src","load"],data:function(){return{image_data:"",image_set:!1,new_image:this.src}},mounted:function(){this.LoadImage()},methods:{SetImage:function(t){this.image_set=!0,this.new_image=t,this.LoadImage()},LoadImage:function(){var t=this;if(this.load){var e="/api/products/image?id=";this.image_set?e+=this.new_image:e+=this.src,axios.get(e).then(function(e){t.image_data=e.data})}else requestIdleCallback(this.LoadImage)}}},L={render:function(){var t=this.$createElement;return(this._self._c||t)("img",{attrs:{id:this.new_image,src:this.image_data}})},staticRenderFns:[]},O={name:"Index",data:function(){return{product:{Price:0,Images:[]},loaded:!1}},components:{navbar:l,"product-image":s("VU/8")(V,L,!1,null,null,null).exports,cart:P},beforeCreate:function(){var t=this;axios.get("/api/products/specific?id="+this.$route.params.uuid).then(function(e){e.data.Images=JSON.parse(e.data.Images),t.product=e.data,console.log(t.product),t.loaded=!0})},methods:{setPreviewImage:function(t){this.$refs.previewImage.SetImage(t.srcElement.id)},AddProduct:function(){w.commit("Push",this.product),this.$refs.cart.open=!0}}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full h-full"},[s("cart",{ref:"cart"}),t._v(" "),s("navbar"),t._v(" "),s("div",{staticClass:"flex flex-1 w-full h-full"},[s("div",{staticClass:"w-1/2 h-full overflow-hidden flex flex-1"},[s("product-image",{ref:"previewImage",staticClass:"w-full m-auto",attrs:{load:t.loaded,src:this.product.Images[0]}}),t._v(" "),s("ul",{staticClass:"flex flex-1 p-0 absolute bottom-0"},t._l(this.product.Images,function(e,r){return s("li",{key:r,staticClass:"flex flex-1 w-20 h-20 overflow-hidden rounded-full border p-0 border-black border-solid",on:{click:t.setPreviewImage}},[s("product-image",{staticClass:"w-full cursor-pointer my-auto",attrs:{load:t.loaded,src:e}})],1)}),0)],1),t._v(" "),s("div",{staticClass:"w-1/2 p-4"},[s("div",{staticClass:"flex flex-1"},[s("h2",{staticClass:"p-2 bg-black text-white"},[t._v(t._s(t.product.Name))])]),t._v(" "),s("div",[t._v(t._s(t.product.Description))]),t._v(" "),s("div",{staticClass:"flex flex-1"},[s("div",{staticClass:"cursor-pointer bg-black text-white p-2 mt-5",on:{click:t.AddProduct}},[t._v("Order for € "+t._s(t.product.Price.toFixed(2)))])])])])],1)},staticRenderFns:[]},D=s("VU/8")(O,Q,!1,null,null,null).exports,S={name:"Auth",data:function(){return{login_username:"",login_password:"",register_username:"",register_password:"",register_email:"",err:""}},components:{navbar:l,cart:P},methods:{Login:function(){var t=this;axios.post("/api/auth/login",{username:this.login_username,password:this.login_password}).then(function(e){e.data.success?t.$router.push("/"):t.err="Could not log in!"})},Register:function(){var t=this;axios.post("/api/auth/register",{username:this.register_username,password:this.register_password,email:this.register_email}).then(function(e){e.data.success?t.$router.push("/"):t.err="Could not register!"}).catch(function(e){t.err="Could not register! "+e})}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("cart"),t._v(" "),s("navbar"),t._v(" "),s("div",[0!=t.err.length?s("div",{staticClass:"bg-black text-white"},[t._v(t._s(t.err))]):t._e(),t._v(" "),s("div",{staticClass:"flex flex-1 w-2/3 mx-auto mt-12 border border-solid border-gray-300 p-4"},[s("div",{staticClass:"w-1/2"},[s("h2",[t._v("Login")]),t._v(" "),s("div",{staticClass:"flex flex-1"},[t._m(0),t._v(" "),s("div",{staticClass:"w-1/2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login_username,expression:"login_username"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.login_username},on:{input:function(e){e.target.composing||(t.login_username=e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login_password,expression:"login_password"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"password"},domProps:{value:t.login_password},on:{input:function(e){e.target.composing||(t.login_password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"bg-black p-2 text-white mt-4 w-4/5 cursor-pointer",on:{click:t.Login}},[t._v("Login")])])])]),t._v(" "),s("div",{staticClass:"w-1/2"},[s("h2",[t._v("Register")]),t._v(" "),s("div",{staticClass:"flex flex-1"},[t._m(1),t._v(" "),s("div",{staticClass:"w-1/2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.register_username,expression:"register_username"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.register_username},on:{input:function(e){e.target.composing||(t.register_username=e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register_email,expression:"register_email"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.register_email},on:{input:function(e){e.target.composing||(t.register_email=e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register_password,expression:"register_password"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"password"},domProps:{value:t.register_password},on:{input:function(e){e.target.composing||(t.register_password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"bg-black p-2 text-white mt-4 w-4/5 cursor-pointer",on:{click:t.Register}},[t._v("Register")])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-1/2"},[e("p",{staticClass:"m-0 p-3"},[this._v("username:")]),this._v(" "),e("p",{staticClass:"m-0 p-3"},[this._v("password:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-1/2"},[e("p",{staticClass:"m-0 p-3"},[this._v("username:")]),this._v(" "),e("p",{staticClass:"m-0 p-3"},[this._v("email:")]),this._v(" "),e("p",{staticClass:"m-0 p-3"},[this._v("password:")])])}]},H=s("VU/8")(S,T,!1,null,null,null).exports,G={name:"AccountPanel",data:function(){return{user_info:{}}},components:{navbar:l,cart:P},mounted:function(){var t=this;axios.get("/api/auth/info").then(function(e){t.user_info=e.data})},methods:{updateInfo:function(){axios.post("/api/auth/update",this.user_info).then(function(t){console.log(t.data)})}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full h-full"},[s("cart"),t._v(" "),s("navbar"),t._v(" "),s("div",[s("div",{staticClass:"flex flex-1 w-2/3 mx-auto mt-12 border border-solid border-gray-300 p-4"},[s("div",{staticClass:"w-1/2"},[s("h2",[t._v("Account info")]),t._v(" "),s("div",{staticClass:"flex flex-1"},[t._m(0),t._v(" "),s("div",{staticClass:"w-1/2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_info.Name,expression:"user_info.Name"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.user_info.Name},on:{input:function(e){e.target.composing||t.$set(t.user_info,"Name",e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_info.Email,expression:"user_info.Email"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.user_info.Email},on:{change:t.updateInfo,input:function(e){e.target.composing||t.$set(t.user_info,"Email",e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_info.Address,expression:"user_info.Address"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.user_info.Address},on:{change:t.updateInfo,input:function(e){e.target.composing||t.$set(t.user_info,"Address",e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_info.Zip_code,expression:"user_info.Zip_code"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.user_info.Zip_code},on:{change:t.updateInfo,input:function(e){e.target.composing||t.$set(t.user_info,"Zip_code",e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_info.Province,expression:"user_info.Province"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.user_info.Province},on:{change:t.updateInfo,input:function(e){e.target.composing||t.$set(t.user_info,"Province",e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_info.Country,expression:"user_info.Country"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.user_info.Country},on:{change:t.updateInfo,input:function(e){e.target.composing||t.$set(t.user_info,"Country",e.target.value)}}}),s("br")])])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-1/2"},[s("p",{staticClass:"m-0 p-3"},[t._v("username:")]),t._v(" "),s("p",{staticClass:"m-0 p-3"},[t._v("email:")]),t._v(" "),s("p",{staticClass:"m-0 p-3"},[t._v("address:")]),t._v(" "),s("p",{staticClass:"m-0 p-3"},[t._v("zip code:")]),t._v(" "),s("p",{staticClass:"m-0 p-3"},[t._v("province:")]),t._v(" "),s("p",{staticClass:"m-0 p-3"},[t._v("country:")])])}]};var J=s("VU/8")(G,j,!1,function(t){s("EWLV")},null,null).exports,W={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Z=s("VU/8")(null,W,!1,null,null,null).exports;r.a.use(i.a);var M=new i.a({mode:"history",routes:[{path:"/",name:"Index",component:k},{path:"/products",name:"Products",component:k},{path:"/categories",name:"Categories",component:N},{path:"/category/:name",name:"Category",component:F},{path:"/product/:uuid",name:"Product",component:D},{path:"/auth",name:"Authentication",component:H},{path:"/account",name:"AccountPanel",component:J},{path:"/admin",name:"AdminPanel",component:Z}]}),q=s("mtWM"),z=s.n(q);window.axios=z.a,r.a.config.productionTip=!1,new r.a({el:"#app",router:M,components:{App:o},template:"<App/>"})},QycH:function(t,e){},Shb0:function(t,e){},TcGi:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f8de264077670d6a6400.js.map
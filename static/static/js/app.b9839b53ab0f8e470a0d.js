webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},a,!1,function(t){s("Shb0")},null,null).exports,n=s("/ocq"),o={data:function(){return{logged_in:null==document.cookie.match(/^(.*;)?\s*ses_id\s*=\s*[^;]+(.*)?$/)}},methods:{switch:function(t){return t==this.logged_in?"":"hidden"}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full border-b border-solid border-0 border-gray-200",attrs:{id:"nav"}},[this._m(0),this._v(" "),e("div",[e("div",{class:this.switch(!0)},[e("a",{attrs:{href:"/auth"}},[this._v("Login or Register")])]),this._v(" "),e("div",{class:this.switch(!1)},[e("a",{attrs:{href:"/account"}},[this._v("Account")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"flex flex-1 list-none m-0 pt-4 pb-4"},[e("a",{attrs:{href:"/products"}},[e("li",[this._v("PRODUCTS")])]),this._v(" "),e("a",{attrs:{href:"/categories"}},[e("li",[this._v("CATEGORIES")])])])}]};var c=s("VU/8")(o,l,!1,function(t){s("lI9k")},null,null).exports,u={name:"ProductImage",props:["product","image_id"],data:function(){return{image_data:""}},mounted:function(){var t=this;axios.get("http://localhost/api/products/image?id="+this.image_id).then(function(e){t.image_data=e.data})},methods:{openProduct:function(){this.$router.push("/product/"+this.product.UUID)}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-1 h-full"},[s("div",{staticClass:"w-1/2 h-full overflow-hidden rounded-tl rounded-bl cursor-pointer",on:{click:t.openProduct}},[s("div",{staticClass:"w-full h-full flex flex-1 justify-center"},[s("img",{staticClass:"h-full mx-auto flex-none",attrs:{src:this.image_data}})])]),t._v(" "),s("div",{staticClass:"p-2"},[s("span",{staticClass:"cursor-pointer",on:{click:t.openProduct}},[t._v(t._s(t.product.Name))]),t._v(" "),s("div",{staticClass:"text-gray-400"},[t._v(t._s(t.product.Description))])])])},staticRenderFns:[]},p=s("VU/8")(u,d,!1,null,null,null).exports,m=s("NYxO"),h=s("424j"),v=s("lbHh"),f=s.n(v);var g={namespaced:!0,state:{products:[],total_value:0},getters:{},actions:{},mutations:{Push(t,e){console.log(e),t.total_value+=e.Price,t.products.push(e)},Remove(t,e){t.total_value-=t.products.splice(e,1)[0].Price}},plugins:[Object(h.a)({storage:{getItem:t=>f.a.get(t),setItem:(t,e)=>f.a.set(t,e,{expires:1/48*2}),removeItem:t=>f.a.remove(t)}})]};r.a.use(m.a);var _=new m.a.Store(g),b={name:"Cart",data:function(){return{open:!1,products:_.state.products,store:_}},methods:{OpenProduct:function(t){this.$router.push("/product/"+t.srcElement.id)},RemoveProduct:function(t){_.commit("Remove",t),this.value=_.state.total_value,this.products=_.state.products},Toggle:function(){this.open=!this.open}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"absolute right-0 top-0"+(t.open?" w-1/4":"")},[s("div",{staticClass:"cursor-pointer bg-black text-white p-4",domProps:{innerHTML:t._s(t.open?">":"<")},on:{click:function(e){return t.Toggle()}}}),t._v(" "),s("div",{class:"w-full h-full bg-black text-white p-4 pr-10 "+(t.open?"":"hidden")},[s("div",t._l(t.products,function(e,r){return s("div",{key:r,staticClass:"flex flex-1 w-full"},[s("div",{staticClass:"w-3/5 cursor-pointer",on:{click:function(s){return t.OpenProduct(e)}}},[t._v(t._s(e.Name))]),s("div",{staticClass:"w-1/4"},[t._v("€ "+t._s(e.Price.toFixed(2)))]),s("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.RemoveProduct(r)}}},[t._v("-")])])}),0),t._v(" "),s("div",{staticClass:"border-0 border-t border-solid border-white flex flex-1 w-full mt-4 pt-2"},[s("div",{staticClass:"w-3/4"},[t._v("Total:")]),s("div",{staticClass:"w-1/4"},[t._v("€ "+t._s(t.store.state.total_value.toFixed(2)))])])])])},staticRenderFns:[]},x=s("VU/8")(b,w,!1,null,null,null).exports,C={name:"Index",mounted:function(){var t=this;axios.get("http://localhost/api/products/all").then(function(e){t.products=e.data})},data:function(){return{products:[]}},methods:{},components:{navbar:c,"product-tile":p,cart:x}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full h-full"},[e("cart"),this._v(" "),e("navbar"),this._v(" "),e("div",{staticClass:"flex flex-1 flex-wrap"},this._l(this.products,function(t,s){return e("div",{key:s,staticClass:"product my-2 h-64 border rounded border-solid border-0 hover:border-gray-400 border-gray-200"},[e("product-tile",{attrs:{product:t,image_id:JSON.parse(t.Images)[0]}})],1)}),0)],1)},staticRenderFns:[]};var P=s("VU/8")(C,y,!1,function(t){s("n0KR")},null,null).exports,k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bg-black text-white cursor-pointer p-4",on:{click:this.openCategory}},[this._v("\n    "+this._s(this.category.Name)+"\n")])},staticRenderFns:[]},I={name:"Index",data:function(){return{categories:[]}},components:{navbar:c,category:s("VU/8")({name:"CategoryTile",props:["category"],methods:{openCategory:function(){this.$router.push("/category/"+this.category.Name)}}},k,!1,null,null,null).exports,cart:x},mounted:function(){var t=this;axios.get("http://localhost/api/categories/all").then(function(e){t.categories=e.data})}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full h-full"},[e("cart"),this._v(" "),e("navbar"),this._v(" "),this._l(this.categories,function(t,s){return e("div",{key:s,staticClass:"category mt-2"},[e("category",{attrs:{category:t}})],1)})],2)},staticRenderFns:[]};var $=s("VU/8")(I,R,!1,function(t){s("XlHN")},null,null).exports,E={name:"CategoryPage",mounted:function(){var t=this;axios.get("http://localhost/api/categories/specific?name="+this.$route.params.name).then(function(e){t.products=e.data.Products})},data:function(){return{products:[]}},methods:{},components:{navbar:c,"product-tile":p,cart:x}},N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full h-full"},[e("cart"),this._v(" "),e("navbar"),this._v(" "),e("div",{staticClass:"flex flex-1 flex-wrap"},this._l(this.products,function(t,s){return e("div",{key:s,staticClass:"product my-2 h-64 border rounded border-solid border-0 hover:border-gray-400 border-gray-200"},[e("product-tile",{attrs:{product:t,image_id:JSON.parse(t.Images)[0]}})],1)}),0)],1)},staticRenderFns:[]};var F=s("VU/8")(E,N,!1,function(t){s("c86c")},null,null).exports,U={name:"ProductImage",props:["src","load"],data:function(){return{image_data:"",image_set:!1,new_image:this.src}},mounted:function(){this.LoadImage()},methods:{SetImage:function(t){this.image_set=!0,this.new_image=t,this.LoadImage()},LoadImage:function(){var t=this;if(this.load){var e="http://localhost/api/products/image?id=";this.image_set?e+=this.new_image:e+=this.src,axios.get(e).then(function(e){t.image_data=e.data})}else requestIdleCallback(this.LoadImage)}}},V={render:function(){var t=this.$createElement;return(this._self._c||t)("img",{attrs:{id:this.new_image,src:this.image_data}})},staticRenderFns:[]},A={name:"Index",data:function(){return{product:{Price:0,Images:[]},loaded:!1}},components:{navbar:c,"product-image":s("VU/8")(U,V,!1,null,null,null).exports,cart:x},beforeCreate:function(){var t=this;axios.get("http://localhost/api/products/specific?id="+this.$route.params.uuid).then(function(e){e.data.Images=JSON.parse(e.data.Images),t.product=e.data,console.log(t.product),t.loaded=!0})},methods:{setPreviewImage:function(t){this.$refs.previewImage.SetImage(t.srcElement.id)},AddProduct:function(){_.commit("Push",this.product)}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full h-full"},[s("cart"),t._v(" "),s("navbar"),t._v(" "),s("div",{staticClass:"flex flex-1 w-full h-full"},[s("div",{staticClass:"w-1/2 h-full overflow-hidden flex flex-1"},[s("product-image",{ref:"previewImage",staticClass:"w-full m-auto",attrs:{load:t.loaded,src:this.product.Images[0]}}),t._v(" "),s("ul",{staticClass:"flex flex-1 p-0 absolute bottom-0"},t._l(this.product.Images,function(e,r){return s("li",{key:r,staticClass:"flex flex-1 w-20 h-20 overflow-hidden rounded-full border p-0 border-black border-solid",on:{click:t.setPreviewImage}},[s("product-image",{staticClass:"w-full cursor-pointer my-auto",attrs:{load:t.loaded,src:e}})],1)}),0)],1),t._v(" "),s("div",{staticClass:"w-1/2 p-4"},[s("div",{staticClass:"flex flex-1"},[s("h2",{staticClass:"p-2 bg-black text-white"},[t._v(t._s(t.product.Name))])]),t._v(" "),s("div",[t._v(t._s(t.product.Description))]),t._v(" "),s("div",{staticClass:"flex flex-1"},[s("div",{staticClass:"cursor-pointer bg-black text-white p-2 mt-5",on:{click:t.AddProduct}},[t._v("Order for € "+t._s(t.product.Price.toFixed(2)))])])])])],1)},staticRenderFns:[]},L=s("VU/8")(A,O,!1,null,null,null).exports,S={name:"Auth",data:function(){return{login_username:"",login_password:"",register_username:"",register_password:"",register_email:"",err:""}},components:{navbar:c,cart:x},methods:{Login:function(){var t=this;axios.post("http://localhost/api/auth/login",{username:this.login_username,password:this.login_password}).then(function(e){e.data.success?t.$router.push("/"):t.err="Could not log in!"})},Register:function(){var t=this;axios.post("http://localhost/api/auth/register",{username:this.register_username,password:this.register_password,email:this.register_email}).then(function(e){e.data.success?t.$router.push("/"):t.err="Could not register!"}).catch(function(e){t.err="Could not register! "+e})}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("cart"),t._v(" "),s("navbar"),t._v(" "),s("div",[0!=t.err.length?s("div",{staticClass:"bg-black text-white"},[t._v(t._s(t.err))]):t._e(),t._v(" "),s("div",{staticClass:"flex flex-1 w-2/3 mx-auto mt-12 border border-solid border-gray-300 p-4"},[s("div",{staticClass:"w-1/2"},[s("h2",[t._v("Login")]),t._v(" "),s("div",{staticClass:"flex flex-1"},[t._m(0),t._v(" "),s("div",{staticClass:"w-1/2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login_username,expression:"login_username"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.login_username},on:{input:function(e){e.target.composing||(t.login_username=e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login_password,expression:"login_password"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"password"},domProps:{value:t.login_password},on:{input:function(e){e.target.composing||(t.login_password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"bg-black p-2 text-white mt-4 w-4/5 cursor-pointer",on:{click:t.Login}},[t._v("Login")])])])]),t._v(" "),s("div",{staticClass:"w-1/2"},[s("h2",[t._v("Register")]),t._v(" "),s("div",{staticClass:"flex flex-1"},[t._m(1),t._v(" "),s("div",{staticClass:"w-1/2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.register_username,expression:"register_username"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.register_username},on:{input:function(e){e.target.composing||(t.register_username=e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register_email,expression:"register_email"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"text"},domProps:{value:t.register_email},on:{input:function(e){e.target.composing||(t.register_email=e.target.value)}}}),s("br"),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register_password,expression:"register_password"}],staticClass:"p-2 h-4 mt-2 w-4/5 border-0 bg-white outline-none border-b border-solid border-black",attrs:{type:"password"},domProps:{value:t.register_password},on:{input:function(e){e.target.composing||(t.register_password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"bg-black p-2 text-white mt-4 w-4/5 cursor-pointer",on:{click:t.Register}},[t._v("Register")])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-1/2"},[e("p",{staticClass:"m-0 p-3"},[this._v("username:")]),this._v(" "),e("p",{staticClass:"m-0 p-3"},[this._v("password:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-1/2"},[e("p",{staticClass:"m-0 p-3"},[this._v("username:")]),this._v(" "),e("p",{staticClass:"m-0 p-3"},[this._v("email:")]),this._v(" "),e("p",{staticClass:"m-0 p-3"},[this._v("password:")])])}]},H=s("VU/8")(S,T,!1,null,null,null).exports,j={name:"AccountPanel",data:function(){return{categories:[]}},components:{navbar:c,cart:x}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full h-full"},[e("cart"),this._v(" "),e("navbar")],1)},staticRenderFns:[]};var J=s("VU/8")(j,D,!1,function(t){s("VvR1")},null,null).exports,M={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},q=s("VU/8")(null,M,!1,null,null,null).exports;r.a.use(n.a);var K=new n.a({mode:"history",routes:[{path:"/",name:"Index",component:P},{path:"/products",name:"Products",component:P},{path:"/categories",name:"Categories",component:$},{path:"/category/:name",name:"Category",component:F},{path:"/product/:uuid",name:"Product",component:L},{path:"/auth",name:"Authentication",component:H},{path:"/account",name:"AccountPanel",component:J},{path:"/admin",name:"AdminPanel",component:q}]}),W=s("mtWM"),X=s.n(W);window.axios=X.a,r.a.config.productionTip=!1,new r.a({el:"#app",router:K,components:{App:i},template:"<App/>"})},Shb0:function(t,e){},VvR1:function(t,e){},XlHN:function(t,e){},c86c:function(t,e){},lI9k:function(t,e){},n0KR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b9839b53ab0f8e470a0d.js.map